<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEX ERC-20</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Optional: Customizing Tailwind's default theme
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
    </style>
</head>
<body class="bg-gray-100 font-sans min-h-screen flex items-center justify-center p-4">

    <div class="bg-white rounded-xl shadow-lg p-8 max-w-4xl w-full space-y-8">
        <!-- Message Box -->
        <div id="messageBox" class="message hidden p-3 text-center rounded-lg font-medium text-sm"></div>

        <!-- General Information -->
        <div class="bg-gray-50 rounded-lg p-6 shadow-inner">
            <h2 class="text-3xl font-bold text-gray-800 text-center mb-4">DEX Information Panel</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">Token Price:</h3>
                    <span id="tokenPrice" class="text-3xl font-bold text-indigo-600 mt-1">N/A</span>
                    <button onclick="getPrice()" class="mt-2 px-4 py-2 bg-indigo-500 text-white rounded-full font-semibold hover:bg-indigo-600 transition-colors duration-200 shadow-md">Update Price</button>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">Tokens Available in DEX:</h3>
                    <span id="tokensAvailable" class="text-3xl font-bold text-indigo-600 mt-1">N/A</span>
                    <button onclick="getAvailableTokens()" class="mt-2 px-4 py-2 bg-indigo-500 text-white rounded-full font-semibold hover:bg-indigo-600 transition-colors duration-200 shadow-md">Update Tokens Available</button>
                </div>
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">My Token Balance:</h3>
                    <span id="tokensBalance" class="text-3xl font-bold text-indigo-600 mt-1">N/A</span>
                    <button onclick="getTokenBalance()" class="mt-2 px-4 py-2 bg-indigo-500 text-white rounded-full font-semibold hover:bg-indigo-600 transition-colors duration-200 shadow-md">Update My Balance</button>
                </div>
            </div>
        </div>

        <!-- User Controls -->
        <div class="bg-gray-50 rounded-lg p-6 shadow-inner">
            <h2 class="text-3xl font-bold text-gray-800 text-center mb-4">User Controls</h2>
            <div class="grid grid-cols-1 gap-6 text-center">
                <!-- Buy Tokens -->
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">Buy Tokens</h3>
                    <div class="flex mt-2 space-x-2">
                        <input type="number" min="0" placeholder="Token Amount" id="tokensToBuy" class="flex-1 px-4 py-2 border rounded-full text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <button onclick="buy()" class="px-6 py-2 bg-emerald-500 text-white rounded-full font-semibold hover:bg-emerald-600 transition-colors duration-200 shadow-md">Buy</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Owner Controls (Now visible) -->
        <div id="ownerControls" class="bg-gray-50 rounded-lg p-6 shadow-inner">
            <h2 class="text-3xl font-bold text-gray-800 text-center mb-4">Owner Controls</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                <!-- Grant DEX Access -->
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">Grant Access to DEX</h3>
                    <div class="flex mt-2 space-x-2">
                        <input type="number" min="0" placeholder="Token Amount" id="tokenGrant" class="flex-1 px-4 py-2 border rounded-full text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <button onclick="grantAccess()" class="px-6 py-2 bg-amber-500 text-white rounded-full font-semibold hover:bg-amber-600 transition-colors duration-200 shadow-md">Grant</button>
                    </div>
                </div>
                <!-- Transfer Tokens to DEX -->
                <div class="flex flex-col items-center">
                    <h3 class="text-lg font-semibold text-gray-700">Transfer Tokens to DEX</h3>
                    <div class="flex mt-2 space-x-2">
                        <input type="number" min="0" placeholder="Token Amount" id="tokenTransfer" class="flex-1 px-4 py-2 border rounded-full text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <button onclick="transferTokensToDEX()" class="px-6 py-2 bg-amber-500 text-white rounded-full font-semibold hover:bg-amber-600 transition-colors duration-200 shadow-md">Transfer</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ethers.js CDN (v5.7.2) -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" type="application/javascript"></script>
    <script type="text/javascript" src="script.js"></script>
</body>
</html>
